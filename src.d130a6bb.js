parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"frbt":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)n[o]=a[i];return n};Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t){var r=document.createElement("canvas"),n=r.getContext("2d"),o=window.devicePixelRatio||1;return r.width=e*o,r.height=t*o,r.style.width=e+"px",r.style.height=t+"px",n.scale(o,o),r},r=function(e){var r=t(e.width,e.height);return r.getContext("2d").font="14px monospace",r};exports.initCanvas=r,exports.measureText=function(e){var t=document.createElement("canvas").getContext("2d");t.font=e+"px monospace";var r=t.measureText("$");return{width:r.width,height:1.5*r.actualBoundingBoxAscent}},exports.neighbors=function(e,t){var r=e.x,n=e.y;return[{x:r+1,y:n},{x:r-1,y:n},{x:r,y:n+1},{x:r,y:n-1}]},exports.getNNeighbors=function(t,r,n){if(1===t)return[r];if(2===t)return e([r],exports.neighbors(r,n));for(var o=[],a=Math.sin,i=Math.acos,l=r.x-t;l<r.x+t;l++)for(var c=t*a(i((r.x-l)/t))*.5,v=r.y-c;v<r.y+c;v++)o.push({x:l,y:Math.round(v)});return o};var n=function(e,t){var r=e.x,n=e.y;return r>t.width/t.cellWidth||r<0||n>window.innerHeight/t.cellHeight||n<0},o=function(e,t){return e+","+t};exports.key=o;var a=function(e){var t=function(t,r){return n({x:t,y:r,value:null,color:null},e)?void 0:function(t,r){return e.canvas[o(t,r)]||{x:t,y:r}}(t,r)},r=function(r,n,a){void 0===a&&(a=e.char);var i=t(r,n);if(!(i&&i.value===a&&i.color===e.color)){var l=o(r,n);e.canvas[l]={value:a,color:e.color,x:r,y:n},e.dirtyCells.push(l)}};return{get:t,set:r,setPreview:function(t,r,a){void 0===a&&(a=e.char);var i=o(t,r);n({x:t,y:r},e)||(e.preview[i]={value:a,color:e.color,x:t,y:r})},clearPreview:function(){var r=e.preview;for(var n in r){var o=t(r[n].x,r[n].y);r[n]=o}},applyPreview:function(){var t=e.preview;for(var r in t){var n=t[r];n.value&&(e.canvas[r]=n)}e.preview={}},setAll:function(e,t){return e.forEach(function(e){return r(e.x,e.y,t)})}}};exports.makeApi=a;var i=function(e,r){var n=t(e.width,e.height),o=n.getContext("2d");o.strokeStyle="#7b7b7b",o.lineWidth=.5;for(var a=0;a<e.width;a+=e.cellWidth)o.beginPath(),o.moveTo(a,0),o.lineTo(a,e.height),o.stroke();for(var i=0;i<e.height;i+=e.cellHeight)o.beginPath(),o.moveTo(0,i),o.lineTo(e.width,i),o.stroke();r.canvas.style.backgroundImage="url('"+n.toDataURL()+"')"};exports.drawGrid=i;var l=function(e,t){t.textBaseline="top",t.font=e.fontSize+"px monospace";var r=function(r){r.value&&(t.fillStyle=r.color,t.fillText(r.value,r.x*e.cellWidth,r.y*e.cellHeight))},n=function(r){r&&t.clearRect(r.x*e.cellWidth,r.y*e.cellHeight,e.cellWidth,e.cellHeight)};if(e.history.updated)for(var o in t.clearRect(0,0,t.canvas.width,t.canvas.height),e.canvas){r(c=e.canvas[o])}else{for(var a in e.preview){n(c=e.preview[a]),r(c)}for(var i=0,l=e.dirtyCells;i<l.length;i++){var c,v=l[i];n(c=e.canvas[v]),r(c)}e.dirtyCells=[]}};exports.draw=l;
},{}],"ddEl":[function(require,module,exports) {
module.exports="/pencil.f1d25768.png";
},{}],"CaSH":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Canvas"),r=e(require("../../assets/pencil.png"));exports.Pencil={name:"pencil",icon:r.default,cursor:"url('"+r.default+"') 7 35, default",sizeable:!0,onPaint:function(e){var r=e.x,s=e.y,a=e.canvas,i=e.state;a.setAll(t.getNNeighbors(i.size||0,{x:r,y:s},i))}};
},{"../Canvas":"frbt","../../assets/pencil.png":"ddEl"}],"G5mf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Tool/Pencil");exports.getRealCoords=function(e,t,l){return{x:Math.floor(e/l.cellWidth),y:Math.floor(t/l.cellHeight)}},exports.initialState={pressing:!1,canvas:{},preview:{},cellHeight:0,cellWidth:0,char:"$",color:"#d238a8",selectedTool:"pencil",dirtyCells:[],history:{undo:[],redo:[],updated:!1},keys:{},tool:e.Pencil,$toolRef:null,size:1,fontSize:14,width:600,height:443};
},{"./Tool/Pencil":"CaSH"}],"Z9SI":[function(require,module,exports) {
"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=function(t){var n=function(r){var n=t.history[r];if(n.length){o("undo"===r?"redo":"undo");var e=n.pop();t.canvas=e||{},t.history.updated=!0}},o=function(n){t.history[n].push(r({},t.canvas)),t.history.updated=!1};return{track:function(){t.history.redo=[],o("undo")},back:function(){return n("undo")},forward:function(){return n("redo")}}};exports.history=t;
},{}],"jNSW":[function(require,module,exports) {
"use strict";var e=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(exports,"__esModule",{value:!0});var t=function(t,n,r){var o,i=document.createElement(t),a=n.style,l=void 0===a?{}:a,s=e(n,["style"]);return Object.assign(i.style,l),Object.assign(i,s),null===(o=r)||void 0===o||o.forEach(function(e){return i.appendChild("string"==typeof e?document.createTextNode(e):e)}),i};exports.html=t;var n=function(e){return t("div",{innerHTML:e}).firstElementChild};exports.htmlRaw=n;var r=function(e){var t=n(e),r=(new XMLSerializer).serializeToString(t);return"url('data:image/svg+xml;base64,"+btoa(r)+"'), auto"};exports.makeCursorFromSvg=r;var o=function(){return window.innerWidth<767};exports.isMobile=o;var i=function(e){var n=e.x,r=e.y,o=e.text,i=void 0===o?"":o,a=e.state,l=e.canvas,s=t("pre",{id:"text-edit",contentEditable:"true",style:{position:"absolute",top:r*a.cellHeight+32+"px",left:n*a.cellWidth+58+"px",fontSize:a.fontSize+"px",fontFamily:"monospace",zIndex:"1",padding:"0",background:"white",border:"0",margin:"0",lineHeight:"1",outline:"2px dashed #03A9F4"},textContent:i,onkeyup:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),document.body.removeChild(s),(s.textContent||"").split("\n").forEach(function(e,t){e.split("").forEach(function(e,o){l.set(n+o-1,r+t,e)})}))}});document.body.appendChild(s),s.focus()};exports.createSelection=i;
},{}],"g7es":[function(require,module,exports) {
module.exports="/line.aca1d771.png";
},{}],"eRuT":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../assets/line.png")),r=function(e,t){for(var r=t.x-e.x,n=t.y-e.y,a=Math.abs(r),i=Math.abs(n),o=r>0?1:-1,s=n>0?1:-1,u={x:e.x,y:e.y},x=[{x:u.x,y:u.y}],y=0,c=0;y<a||c<i;)(.5+y)/a<(.5+c)/i?(u.x+=o,y+=1):(u.y+=s,c+=1),x.push({x:u.x,y:u.y});return x};exports.Line={name:"line",icon:t.default,state:{},cursor:"crosshair",onPointerDown:function(e,t){var r=e.x,n=e.y;t.start={x:r,y:n}},onPointerUp:function(e){e.canvas.applyPreview()},onPaint:function(e,t){var n=e.x,a=e.y,i=e.canvas,o=t.start,s={x:n,y:a};o&&(i.clearPreview(),r(o,s).forEach(function(e){return i.setPreview(e.x,e.y)}))}};
},{"../../assets/line.png":"g7es"}],"ugBd":[function(require,module,exports) {
module.exports="/eraser.c7eb9566.png";
},{}],"nkuq":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../Canvas"),t=e(require("../../assets/eraser.png"));exports.Eraser={name:"eraser",icon:t.default,onPaint:function(e){var t=e.x,s=e.y,a=e.canvas,n=e.state;return a.setAll(r.getNNeighbors(n.size||0,{x:t,y:s},n),"")}};
},{"../Canvas":"frbt","../../assets/eraser.png":"ugBd"}],"ug0A":[function(require,module,exports) {
module.exports="/bucket.51f14ae8.png";
},{}],"yoTF":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../assets/bucket.png"));exports.Fill={name:"fill",icon:t.default,cursor:"url('"+t.default+"'), default",onPaint:function(e){var t=e.x,r=e.y,a=e.state,n=e.canvas,u=n.get(t,r);u&&function e(t,r,u){var i=n.get(r,u);if(i&&i.color===t){n.set(r,u);var l=function(){e(t,r+1,u),e(t,r-1,u),e(t,r,u+1),e(t,r,u-1)};a.dirtyCells.length>1e3?requestAnimationFrame(l):l()}}(u.color,t,r)}};
},{"../../assets/bucket.png":"ug0A"}],"cZkP":[function(require,module,exports) {
module.exports="/square.fa85e1f1.png";
},{}],"NCY5":[function(require,module,exports) {
"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../assets/square.png")),n=function(e,t){var n=[e,t],a=function(a,s){for(var o,i,u=!1,c=e[a]<t[a]?1:-1,v=e[s]<t[s]?-1:1,f=e,p=t;!u;){var l=f[a]===p[a],y=f[s]===p[s];l||n.push(f=r(r({},f),((o={})[a]=f[a]+c,o))),y||n.push(p=r(r({},p),((i={})[s]=p[s]+v,i))),u=l&&y}};return a("x","y"),a("y","x"),n};exports.Square={name:"square",icon:t.default,state:{},cursor:"crosshair",onPointerDown:function(r,e){var t=r.x,n=r.y,a=r.canvas;e.start={x:t,y:n},a.setPreview(t,n)},onPointerUp:function(r){r.canvas.applyPreview()},onPaint:function(r,e){var t=r.x,a=r.y,s=r.canvas,o={x:t,y:a};s.clearPreview();for(var i=0,u=n(e.start,o);i<u.length;i++){var c=u[i];s.setPreview(c.x,c.y)}}};
},{"../../assets/square.png":"cZkP"}],"bwvJ":[function(require,module,exports) {
module.exports="/text.4f4d77bd.png";
},{}],"KTKU":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../util"),r=e(require("../../assets/text.png"));exports.Text={name:"text",icon:r.default,cursor:"text",onPointerUp:function(e){var r=e.x,u=e.y,a=e.state,n=e.canvas,o=document.querySelector("#text-edit");if(o)return o.remove();t.createSelection({x:r,y:u,state:a,canvas:n})}};
},{"../util":"jNSW","../../assets/text.png":"bwvJ"}],"yuQx":[function(require,module,exports) {
module.exports="/ellipse.77721254.png";
},{}],"ahDH":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var a=t(require("../../assets/ellipse.png"));exports.Ellipse={name:"ellipse",icon:a.default,state:{},cursor:"crosshair",onPointerDown:function(t,a){var e=t.x,r=t.y,s=t.canvas;a.start={x:e,y:r},s.setPreview(e,r)},onPointerUp:function(t){t.canvas.applyPreview()},onPaint:function(t,a){var e=t.x,r=t.y,s=t.canvas,n=a.start;if(n){var i=e,o=r;s.clearPreview();for(var u=n.x-i,h=n.y-o,v=Math.sqrt(u*u+h*h)/2,c=2*Math.PI/Math.round(10*v),l=v,M=Math.min(1,Math.abs(h/u)),p=Math.min(1,Math.abs(u/h)),f=n.x-u/2,P=n.y-h/2,d=0;d<2*Math.PI;d+=c){var x=f+p*l*Math.cos(d),y=P-M*l*Math.sin(d);s.setPreview(Math.round(x),Math.round(y))}}}};
},{"../../assets/ellipse.png":"yuQx"}],"Aip1":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArrays||function(){for(var e=0,r=0,o=arguments.length;r<o;r++)e+=arguments[r].length;var t=Array(e),l=0;for(r=0;r<o;r++)for(var i=arguments[r],a=0,n=i.length;a<n;a++,l++)t[l]=i[a];return t};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./util"),o=require("./Tool/Pencil"),t=require("./Tool/Line"),l=require("./Tool/Eraser"),i=require("./Tool/Fill"),a=require("./Tool/Square"),n=require("./Tool/Text"),s=require("./Tool/Ellipse"),u=[o.Pencil,l.Eraser,i.Fill,n.Text,t.Line,a.Square,s.Ellipse],c=function(o,t){return r.html("section",{className:"toolbar"},e(u.map(function(e){return r.html("button",{className:"tool",onclick:function(r){var l,i=r.target;null===(l=o.$toolRef)||void 0===l||l.classList.toggle("tool--active"),i.classList.toggle("tool--active"),o.tool=e,o.$toolRef=i,t.canvas.style.cursor=e.cursor||"default"}},[r.html("img",{src:e.icon,style:{pointerEvents:"none"}})])}),[r.html("footer",{className:"toolbar-options"},[r.isMobile()?"":r.html("input",{className:"size-handle",value:"1",type:"range",max:"10",min:"1",step:"1",onchange:function(e){return o.size=+e.target.value}})])]))};exports.renderToolbar=c;
},{"./util":"jNSW","./Tool/Pencil":"CaSH","./Tool/Line":"eRuT","./Tool/Eraser":"nkuq","./Tool/Fill":"yoTF","./Tool/Square":"NCY5","./Tool/Text":"KTKU","./Tool/Ellipse":"ahDH"}],"Tg4V":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),l=0;for(e=0;e<n;e++)for(var i=arguments[e],m=0,o=i.length;m<o;m++,l++)a[l]=i[m];return a};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./util"),n=require("./Canvas"),a=function(t){for(var e,a="",l=0;l<t.height;l++){for(var i=0;i<t.width;i++){a+=(null===(e=t.canvas[n.key(i,l)])||void 0===e?void 0:e.value)||" "}a+="\n"}return a},l=function(){var t=document.createElement("a");t.setAttribute("href",document.querySelector("canvas").toDataURL("image/png")),t.setAttribute("download","untitled.png"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},i=function(t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a(t))),e.setAttribute("download","untitled.txt"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},m=function(t){var e=document.createElement("textarea");e.value=a(t),e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(e)},o=function(t,n){return e.html("li",{className:"menu-item char-input__option",onclick:function(){n.char=t,document.querySelector(".char-input").value=t,document.body.click()}},[e.html("span",{},[t])])},c=function(t){var a,l,i=t.state,m=(t.ctx,e.html("div",{className:"box dialog"},[e.html("form",{onsubmit:function(t){var e;t.preventDefault(),i.width=a*i.cellWidth+1,i.height=l*i.cellHeight+1,i.canvas={},i.dirtyCells=[],i.history.updated=!0;var o=n.initCanvas(i);null===(e=document.querySelector("canvas"))||void 0===e||e.replaceWith(o),n.drawGrid(i,o.getContext("2d")),document.body.removeChild(m)}},[e.html("div",{className:"dialog__content"},[e.html("label",{className:"field"},["Row size",e.html("input",{className:"input",onchange:function(t){return a=+t.target.value}})]),e.html("label",{className:"field"},["Column size",e.html("input",{className:"input",onchange:function(t){return l=+t.target.value}})])]),e.html("button",{className:"button",type:"submit"},["start"])])]));document.body.appendChild(m)},u=function(n,a,u){return e.html("header",{className:"menu"},[e.html("button",{className:"menu-button menu-container"},["file",e.html("ul",{className:"menu-list"},[e.html("li",{className:"menu-item",onclick:function(){return c({state:n,ctx:a})}},[e.html("span",{},["New"]),e.html("small",{},["Cmd+N"])]),e.html("li",{className:"menu-item",onclick:function(){navigator.share&&navigator.share({title:"My awesome post!",text:"This post may or may not contain the answer to the universe",url:window.location.href})}},[e.html("span",{},["Share"])]),e.html("li",{className:"menu-item",onclick:function(){return m(n)}},[e.html("span",{},["Copy"])]),e.html("li",{className:"menu-item menu-container"},[e.html("span",{},["Export"]),e.html("small",{},[e.htmlRaw('\n              <svg width="10" height="11" viewBox="0 0 10 11" style="display:inline-block;vertical-align:middle">\n                <path d="M7.5 4.33L0 8.66L0 0z"></path>\n              </svg>\n            ')]),e.html("ul",{className:"menu-list menu-list--right"},[e.html("li",{className:"menu-item"},[e.html("span",{onclick:function(){return i(n)}},["Text (.txt)"])]),e.html("li",{className:"menu-item"},[e.html("span",{onclick:l},["Image (.png)"])])])])])]),e.html("button",{className:"menu-button menu-container"},["edit",e.html("ul",{className:"menu-list"},[e.html("li",{className:"menu-item",onclick:function(){return u.back()}},[e.html("span",{},["Undo"]),e.html("small",{},["Cmd+Z"])]),e.html("li",{className:"menu-item",onclick:function(){return u.forward()}},[e.html("span",{},["Redo"]),e.html("small",{},["Cmd+Shift+Z"])])])]),e.html("button",{className:"menu-container char-input-container"},[e.html("input",{className:"menu-button char-input",maxLength:1,value:"$",onchange:function(t){return n.char=t.target.value}}),e.html("ul",{className:"menu-list"},t(["$","@","/",";","(",")"].map(function(t){return o(t,n)})))]),e.html("input",{className:"menu-button color-picker",type:"color",value:"#d238a8",onchange:function(t){return n.color=t.target.value}})])};exports.renderMenus=u;
},{"./util":"jNSW","./Canvas":"frbt"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./State"),n=require("./Canvas"),r=require("./History"),i=require("./Toolbar"),o=require("./Menu"),a=require("./util"),u=e({},t.initialState),s=n.initCanvas(u),c=s.getContext("2d"),d=!1,l=function(){document.body.appendChild(a.html("main",{},[o.renderMenus(u,c,r.history(u)),a.html("div",{className:"content"},[i.renderToolbar(u,c),a.html("div",{className:"canvas-container"},[s]),a.isMobile()?a.html("div",{className:"size-handle-wrapper"},[a.html("input",{className:"size-handle",value:"1",type:"range",max:"10",min:"1",step:"1",onchange:function(e){return u.size=+e.target.value}})]):""])])),document.querySelector(".tool").click();var d=s.offsetLeft,l=s.offsetTop,f=function(r,i){var o=u.tool[r];o&&o(e(e({},t.getRealCoords(i.x-d,i.y-l,u)),{state:u,canvas:n.makeApi(u)}),u.tool.state)},v=function(e){u.pressing=!0,f("onPointerDown",e),r.history(u).track()},p=function(e){u.pressing=!1,f("onPointerUp",e),f("onPaint",e)},m=function(e){u.pressing&&f("onPaint",e)},y=function(e){return{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}};a.isMobile()?(s.addEventListener("touchstart",function(e){return v(y(e))}),s.addEventListener("touchend",function(e){return p(y(e))}),s.addEventListener("touchmove",function(e){return m(y(e))})):(s.addEventListener("mousedown",function(e){return v(e)}),s.addEventListener("mouseup",function(e){return p(e)}),s.addEventListener("mousemove",function(e){m(e),e.stopPropagation()})),document.addEventListener("keydown",function(e){u.keys[e.key]=!0}),document.addEventListener("keyup",function(e){u.keys[e.key]=!1});var g=n.measureText(14),w=g.width,k=g.height;u.cellWidth=w,u.cellHeight=k,n.drawGrid(u,c),h()},f=[["Meta+Shift+z",function(){return r.history(u).forward()}],["Meta+z",function(){return r.history(u).back()}]],v=["Shift","Meta","Ctrl"],h=function t(){var r=f.find(function(e){return e[0].split("+").every(function(e){return u.keys[e]})});r&&(r[1](),u.keys=v.reduce(function(t,n){var r;return e(e({},t),((r={})[n]=u.keys[n],r))},{})),n.draw(u,c),d||requestAnimationFrame(t)};window.addEventListener("load",function(){return window.scrollTo(0,0)}),document.addEventListener("DOMContentLoaded",l),document.addEventListener("paste",function(e){var t=document.querySelector("#text-edit");t&&t.remove();var r=(e.clipboardData||window.clipboardData).getData("text");a.createSelection({x:0,y:0,state:u,text:r,canvas:n.makeApi(u)}),e.preventDefault()});
},{"./State":"G5mf","./Canvas":"frbt","./History":"Z9SI","./Toolbar":"Aip1","./Menu":"Tg4V","./util":"jNSW"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.d130a6bb.js.map